# m_winp2p

Windows端末同士でP2P通信によりデータをやり取りするシンプルなWebアプリケーションです。

## 概要

PeerJSを使用して、ブラウザ上で動作するP2P通信システムを実装しています。ホスト・クライアント方式で接続し、リアルタイムでメッセージやコマンドを送受信できます。

## 機能

- ホスト/クライアントモードの切り替え
- メッセージの送受信
- 定型コマンドのクイック送信（LED_ON/OFF、PING、START/STOP）
- 接続状態のリアルタイム表示
- 送受信ログの表示

## ファイル構成

```
m_winp2p/
├── index.html      # メインHTMLファイル（UI）
├── m_winp2p.js     # P2P通信管理クラス
├── main.js         # 設定とUI制御
└── style.css       # スタイルシート
```

## 使い方

### 1. セットアップ

ファイルをダウンロードし、任意のディレクトリに配置します。

### 2. 設定

`main.js`を開いて、ホストIDを設定します：

```javascript
// ホストID（ホスト側で使用する固定ID）
const HOST_ID = 'myhost123';

// 接続先ホストID（クライアント側で使用）
const CONNECT_TO_HOST_ID = 'myhost123';
```

### 3. 起動

`index.html`をブラウザで開きます。

- **ホスト側**: 「ホスト起動」ボタンをクリック
- **クライアント側**: 「接続」ボタンをクリック

### 4. メッセージ送信

接続が確立されたら、テキストボックスにメッセージを入力して送信するか、クイック送信ボタンでコマンドを送信できます。

## カスタマイズ

### 受信データの処理

`main.js`の`onDataReceived()`関数を編集して、受信したデータに応じた処理を追加できます：

```javascript
function onDataReceived(data) {
    switch(data) {
        case 'LED_ON':
            // LED ONの処理
            break;
        // ...
    }
}
```

## 技術仕様

- **P2Pライブラリ**: PeerJS v1.5.2
- **通信方式**: WebRTC
- **ブラウザ要件**: 最新のChrome、Firefox、Edge、Safari

## 注意事項

- インターネット接続が必要です（PeerJSのシグナリングサーバーを使用）
- ファイアウォールやネットワーク設定により接続できない場合があります
- 同じホストIDを持つホストは1つのみ起動できます
- なお、このプログラムは(README.mdも含めて)ほとんどAI(Claude Sonnet 4.5)によって作成されています。使用する際は気をつけてください

## ライセンス

このプロジェクトは自由に使用・改変できます。


